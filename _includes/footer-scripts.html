<script>
  // Add theme toggle button
  document.addEventListener('DOMContentLoaded', function() {
    const btn = document.createElement('button');
    btn.className = 'theme-toggle';
    btn.setAttribute('aria-label', 'Toggle dark mode');

    function updateButton() {
      const theme = document.documentElement.getAttribute('data-theme');
      const isDark = theme === 'dark' ||
        (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches);
      btn.textContent = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    }

    btn.onclick = function() {
      const current = document.documentElement.getAttribute('data-theme');
      const isDark = current === 'dark' ||
        (!current && window.matchMedia('(prefers-color-scheme: dark)').matches);
      const newTheme = isDark ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateButton();
    };

    updateButton();

    const header = document.querySelector('.site-header .wrapper');
    if (header) {
      header.appendChild(btn);
    }
  });
</script>
